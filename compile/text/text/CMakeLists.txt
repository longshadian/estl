CMAKE_MINIMUM_REQUIRED(VERSION 3.0)
SET_PROPERTY(GLOBAL PROPERTY USE_FOLDERS On)

PROJECT(text)
SET(OUTPUT text)
SET(OUTPUT_DIR ${CMAKE_BINARY_DIR}/output)

IF(WIN32)
    SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY_DEBUG ${OUTPUT_DIR}/debug/lib)
    SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_DEBUG ${OUTPUT_DIR}/debug/lib)
    SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY_DEBUG ${OUTPUT_DIR}/debug/bin)

    SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY_RELEASE ${OUTPUT_DIR}/release/lib)
    SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY_RELEASE ${OUTPUT_DIR}/release/bin)
    SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELEASE ${OUTPUT_DIR}/release/lib)
ELSEIF(UNIX)
    SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${OUTPUT_DIR}/lib)
    SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${OUTPUT_DIR}/lib)
    SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${OUTPUT_DIR}/bin)
ENDIF(WIN32)

FILE(GLOB TEXT	*.cpp *.h)
SOURCE_GROUP("" FILES ${TEXT})
SET(SRC_LIST ${TEXT})


INCLUDE(${CMAKE_HOME_DIRECTORY}/cmake/FindBoost_vcpkg.cmake)
INCLUDE_DIRECTORIES(${BOOST_INCLUDE_DIR})
#INCLUDE_DIRECTORIES(${CMAKE_HOME_DIRECTORY}/src)

MESSAGE("BOOST_INCLUDE_DIR: ${BOOST_INCLUDE_DIR}")
MESSAGE("BOOST_LIBRARY_DIR: ${BOOST_LIBRARY_DIR}")
MESSAGE("BOOST_LIBRARIES: ${BOOST_LIBRARIES}")



IF(WIN32)
    ADD_DEFINITIONS(/std:c++17)
    ADD_DEFINITIONS("/D _WIN32_WINNT=0x0601")
ELSEIF(UNIX)
    
ENDIF()

#IF(WIN32)
#    TARGET_COMPILE_DEFINITIONS(${OUTPUT} PUBLIC _WIN32_WINNT=0x0601)
#ENDIF()
ADD_EXECUTABLE(${OUTPUT} ${SRC_LIST})

#string(STRIP ${BOOST_LIBRARIES} aaa)
TARGET_LINK_LIBRARIES(${OUTPUT} ${BOOST_LIBRARIES})
